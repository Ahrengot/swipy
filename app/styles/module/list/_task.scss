$list-item-height: 80px;
$list-item-height-lg: 105px;

// General task styling
.todo-list {
	ol { padding: 0; }

	h2 {
		@include ellipsis();

		font-family: $font-light;
		font-weight: lighter;
		font-size: 1.85em;
		margin: 0 0 .2em;
	}

	.center-title h2 {
		margin-top: 0.45em;
	}

	.priority {
		margin-left: 10%;
		@include breakpoint(tablet) { margin-left: 19.5%; }
	}

	time, .meta, .tags { display: inline-block; }

	.meta {
		margin: 0;
		padding: 0;

		li {
			display: inline-block;
			font-size: 1em;
			margin: 0 0 0 -0.3em;
			padding: 0;


			&:first-child {
				margin-left: 0;
				&:before { content: none; }
			}
		}

		> li {
			margin-left: 0.2em;
		}

		li.seperator {
			margin-right: 0.2em;
			color: $gray;
			font-family: $font-bold;

			&:before { content: "//"; }
		}

		.tags {
			margin: 0;
			padding: 0;
			font-family: $font-bold;

			li {
				strong {
					color: black;
					text-shadow: 0 0 0px black;
				}

				&:before { content: ', '; }

				&:first-child {
					margin-left: 0;
					&:before { content: none; }
				}
			}
		}
	}
}

// List item content
.todo-content {
	position: relative;
	padding: 1.8em 3em 0 20%;
	@include breakpoint(tablet) { padding-left: 28% }
	height: $list-item-height;

	@include breakpoint(min-height, 900px) {
		padding-top: 3em;
		height: $list-item-height-lg;
	}

	background: white;

	@include transition(
		background 0.15s,
		left 0.1s ease-out,
		right 0.1s ease-out
	);
}

.tasks > li:last-child .todo-content:after { content: none; }

// action buttons
.todo-list {
	.action {
		position: absolute;
		display: block;

		width: $list-item-height;
		height: 100%;
		background: transparent;

		line-height: $list-item-height;
		text-align: center;
		color: white;
		text-decoration: none;
		font-size: 1.7em;

		@include breakpoint(min-height, 900px) {
			width: $list-item-height-lg;
			line-height: $list-item-height-lg;
		}

		@include transition(0.2s ease-in-out);

		span {
			opacity: 0.7;
			@include transition(opacity 0.1s ease-out);
		}

		&:hover {
			span { opacity: 1; }
		}

		&.complete, &.todo {
			left: 0;
		}

		&.schedule {
			right: 0;
		}
	}
}

// Various states for tasks
.todo-list {
	.selected .todo-content {
		background: #f7f7f7;
	}

	.dragging .todo-content {
		@include transition(all 0.2s ease-out);
		@include box-shadow(0 0 30px #ddd);
	}

	.hover-left {
		.todo-content { left: 95px; }
		.action.complete { background: $green; }
		.action.todo { background: $yellow; }
	}

	.hover-right {
		.todo-content { right: 95px; }
		.action.schedule { background: $lobster; }
	}
}

// Styling for completed and scheduled tasks
.todo-list {
	.completed, .todo, .scheduled {
		.todo-content {
			// Unset left/right animation
			@include transition(background 0.15s);
		}
	}

	.completed {
		background: $green;
		overflow: hidden;

		.action.complete {
			background: $green;
		}

		.action.schedule {
			display: none;
		}
	}

	.todo {
		background: $yellow;
		overflow: hidden;

		.action.complete {
			background: $yellow;
		}

		.action.schedule {
			display: none;
		}
	}

	.scheduled {
		background: $lobster;
		overflow: hidden;

		.action.schedule {
			background: $lobster;
		}

		.action.todo, .action.complete {
			display: none;
		}
	}
}

// Animate-in when adding new tasks
.todo-list .animate-in {
	@extend .animated;
	@extend .fadeInDown;
	@include experimental(animation-duration, 0.3s);
}