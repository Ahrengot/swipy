<!doctype html>
<head>
	<meta charset="utf-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
	<title>Mocha Spec Runner</title>
	<link rel="stylesheet" href="lib/mocha/mocha.css">

	<style>
		.container, .overlay {
			display: none;
		}
	</style>

	<script src="../app/bower_components/modernizr/modernizr.js"></script>
</head>
<body>
	<div id="mocha"></div>

	<div id="main-content" class="container">

		<aside class="sidebar">
			<a href="JavaScript:void(0);" title="Close sidebar" class="close-sidebar icon-cross"></a>

			<section class="search">
				<form>
					<input class="borderless" type="search" placeholder="Search" autocomplete>
				</form>
			</section>

			<section class="date-filter">
				calendar filter
			</section>

			<section class="tags-filter">
				<ul class="rounded-tags">
				</ul>
			</section>

			<a class="log-out" href="http://swipesapp.com/app"><span class="icon-log-out"></span></a>
			<a class="settings" href="#settings"><span class="icon-cog"></span></a>
		</aside>

		<ol class="todo-list hidden schedule"></ol>
		<ol class="todo-list hidden todo"></ol>
		<ol class="todo-list hidden completed"></ol>
	</div>
	<div id="content-holder"></div>
	<script src="lib/mocha/mocha.js"></script>
	<script>mocha.setup('bdd')</script>

	<!-- assertion framework -->
	<script src="lib/chai.js"></script>
	<script src="../app/bower_components/sinon-chai/lib/sinon-chai.js"></script>
	<script src="../app/bower_components/sinon/lib/sinon.js"></script>

	<script src="../app/bower_components/sinon/lib/sinon/assert.js"></script>
	<script src="../app/bower_components/sinon/lib/sinon/call.js"></script>
	<script src="../app/bower_components/sinon/lib/sinon/spy.js"></script>
	<script src="../app/bower_components/sinon/lib/sinon/stub.js"></script>

	<script>var expect = chai.expect</script>

	<!-- include source files here... -->
	<script data-main="../app/scripts/test" src="../app/bower_components/requirejs/require.js"></script>

	<!-- include spec files here... -->
	<script>
		var tryStarting = function() {
			if ( typeof swipy !== "undefined" && swipy !== null ) {
				require(["../../test/spec/test"], function() {
					// We don't want popups when testing
					swipy.errors.destroy()
					swipy.errors = null

					// Start tests
					mocha.globals(["*"]).run();
					console.timeEnd("Starting test took");
				});
			} else {
				setTimeout( arguments.callee, 100);
			}
		}


		// Timeout to make sure scripts have been pulled in by require first
		setTimeout( tryStarting, 100 );
	</script>

	<script>
	</script>
</body>
</html>
